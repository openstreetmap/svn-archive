<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>OSM Applet Test Page</title>
    <script src="jquery.js" type="text/javascript"></script>
	<body>
	  <h3>OpenStreetMap Applet</h3>
    <p>Local dev version.  Using test username <b id="user_span">(not set)</b> and password <b id="pass_span">(not set)</b>.  
    To use your login in this page after build, call ant with parameters:</p>
    <pre>-Dtest.user=(your username) -Dtest.user=(your password)</pre>
    <p>  Link: <span id="linkOut"></span>.</p>
    <div>
      <applet 
        code="org/openstreetmap/processing/OsmApplet.class"
        width="800"
        height="600"
        archive="commons-codec-1.3.jar,commons-httpclient-3.0-rc3.jar,commons-logging.jar,core.jar,MinML2.jar,OSMApplet.jar,thinlet.jar"
        name="osm_applet"
        MAYSCRIPT="true">
        <param name="clat" value="51.414942428013056"/>
        <param name="clon" value="-0.13467264175415036"/>
        <param name="user" value="@user@" />
        <param name="pass" value="@pass@" />
        <param name="tileThreads" value="6"/> <!-- tile image download threads -->
        <param name="windowWidth" value="800"/>
        <param name="windowHeight" value="600"/>
        <param name="debugToPage" value="false" /> <!-- true = output to appletDebug() fn -->
        <param name="abortable" value="true" /> <!-- true = allow abort of map download -->
        <param name="timeout" value="5"/> <!-- server connect timeout in seconds -->
        <param name="socketTimeout" value="30"/> <!-- server connect timeout in seconds -->
        <param name="retries" value="5"/> <!-- max number of server retries -->
        <param name="injectTimeouts" value="30"/> <!-- percent chance of (simulated) timeout, for testing, 0 = live i.e. no timeouts -->
      </applet>
      <div style="font-size: small; position: relative; left: 800px; top:-600px; height: 600px; width: 400px; overflow: scroll; visibility: hidden" >
        <p>Debug output from applet</p>
        <pre id="debug_out"></pre>
      </div>
    </div>
    <script type="text/javascript">/*<![CDATA[*/
jQuery.noConflict();
var jq = jQuery;
  
function updatelinks(lat, lon, zoom) {
  jq('#linkOut').empty().append('lat=' + lat + ', lon=' + lon + ', zoom=' + zoom);
}  

function appletDebug(s) {
  jq('#debug_out').append(s).append('<br/>'); 
}

var user = jq("param[@name='user']").val();
var pass = jq("param[@name='pass']").val();
jq('#user_span').empty().append(user);    
jq('#pass_span').empty().append(pass);
    
    /*]]>*/</script>
	</body>
</html>

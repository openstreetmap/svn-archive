# Layer configuration for tiles@home
# ================================== 
#
# You can add any number of layers here. Whenever a tile is rendered, 
# tiles for all layers will be generated and uploaded to the server.
# Make sure not to create and upload layers that the server doesn't
# want - that would be a waste of resources.

# All settings here can be overwritten on command-line, but should not.


# Master list of layers
# ---------------------
# 
# The names here are really just symbols, you could use anything you
# want.
Layers = captionless,tile,maplint

# Either run default (highzoom) or lowzoom, not both at the same time
# Lowzoom works in xy mode, but not yet in loop mode!
#Layers = caption

# LayersCapability will enable the client to switch automatically between 
# lowzoom and default/maplint Layers depending on job from t@h server
LayersCapability = captionless,tile,maplint,caption



# Details for "default" layer
# ---------------------------

[tile]

MinZoom = 12
MaxZoom = 17

# osmarender rule files to be used, one for each level
Rules.12 = osmarender/osm-map-features-z12.xml
Rules.13 = osmarender/osm-map-features-z13.xml
Rules.14 = osmarender/osm-map-features-z14.xml
Rules.15 = osmarender/osm-map-features-z15.xml
Rules.16 = osmarender/osm-map-features-z16.xml
Rules.17 = osmarender/osm-map-features-z17.xml

# prefix for tiles from this layer. this is what the server will see,
# and has to match what the server expects. I.e. you can rename your
# layer "gobblebobble" but don't change the prefix.
Prefix = tile

# preprocessor is a comma-separated list of any (or none) of the following:
# maplint, close-areas
Preprocessor = close-areas

# default layer is not transparent
Transparent = 0

# this enables the script to check if you've got everything it will need.
RequiredFiles = tilesGen.pl

# default layer does not need to render full tileset
RenderFullTileset = 0



# Details for lowzoom layer
# ---------------------------

[lowzoom]

MinZoom =  6 
MaxZoom = 11

# osmarender rule files to be used, one for each level
Rules.6 = osmarender/caption-z6.xml
Rules.7 = osmarender/caption-z7.xml
Rules.8 = osmarender/caption-z8.xml
Rules.9 = osmarender/caption-z9.xml
Rules.10 = osmarender/caption-z10.xml
Rules.11 = osmarender/caption-z11.xml

# lowzoom prefix should be 'caption'. Regular tiles are later produced by
# stitching captionless tiles together and then overlaying these caption tiles.
Prefix = caption

Preprocessor = noop

# lowzoom caption layer is transparent
Transparent = 1

# this enables the script to check if you've got everything it will need.
RequiredFiles = tilesGen.pl

# lowzoom caption layer is needed at all levels
RenderFullTileset = 1

# Lowzoom captions need very little data. Specify exactly which xapi predicates we need.
Predicates = node[place=town|city|country]



# Details for "POI" layer (currently not used)
# ---------------------------

[POI]

MinZoom = 12
MaxZoom = 17

# osmarender rule files to be used, one for each level
Rules.12 = osmarender/osm-POI-features-z12.xml
Rules.13 = osmarender/osm-POI-features-z13.xml
Rules.14 = osmarender/osm-POI-features-z14.xml
Rules.15 = osmarender/osm-POI-features-z15.xml
Rules.16 = osmarender/osm-POI-features-z16.xml
Rules.17 = osmarender/osm-POI-features-z17.xml

# prefix for tiles from this layer. this is what the server will see,
# and has to match what the server expects. I.e. you can rename your
# layer "gobblebobble" but don't change the prefix.
Prefix = poi

# preprocessor is a comma-separated list of any (or none) of the following:
# maplint, close-areas, noop (not used by t@h yet) 
Preprocessor = noop

# this enables the script to check if you've got everything it will need.
RequiredFiles = tilesGen.pl

# POI layer is transparent
Transparent = 1

# POI layer does not need to render full tileset
RenderFullTileset = 1



# Details for "maplint" layer
# ---------------------------

[maplint]

MinZoom = 12
MaxZoom = 16

# osmarender rule files to be used, one for each level
Rules.12 = maplint/rules-small.xml
Rules.13 = maplint/rules-small.xml
Rules.14 = maplint/rules-medium.xml
Rules.15 = maplint/rules-large.xml
Rules.16 = maplint/rules-largest.xml
#Rules.17 = maplint/rules-largest.xml

# prefix for tiles from this layer. this is what the server will see,
# and has to match what the server expects. I.e. you can rename your
# layer "gobblebobble" but don't change the prefix.
Prefix = maplint

# preprocessor is a comma-separated list of any (or none) of the following:
# maplint, close-areas 
Preprocessor = maplint

# this enables the script to check if you've got everything it will need.
RequiredFiles = maplint/lib/run-tests.xsl,maplint/lib/convert-to-tags.xsl,maplint/tests.xsl

# maplint layer is transparent
Transparent = 1

# maplint layer needs to render full tileset
RenderFullTileset = 1



# Details for captionless layer
# -----------------------------
# captionless  =  base image for lowzoom.  It's a z12 only layer with no captions
# z8-z11 are generated from this layer using the old lowzoom tile stitcher.
# Captions are generate as a transparent overlay and could be localised.

[captionless]

MinZoom = 12
MaxZoom = 12
Rules.12 = osmarender/captionless-z12.xml
Prefix = captionless
Preprocessor = close-areas
RequiredFiles = tilesGen.pl
Transparent = 0
RenderFullTileset = 0



# Details for lowzoom caption layer
# ---------------------------------

[caption]

MinZoom =  6
MaxZoom = 11

# osmarender rule files to be used, one for each level
Rules.6 = osmarender/caption-z6.xml
Rules.7 = osmarender/caption-z7.xml
Rules.8 = osmarender/caption-z8.xml
Rules.9 = osmarender/caption-z9.xml
Rules.10 = osmarender/caption-z10.xml
Rules.11 = osmarender/caption-z11.xml

# lowzoom prefix should be 'caption'. Regular tiles are later produced by
# stitching captionless tiles together and then overlaying these caption tiles.
Prefix = caption

Preprocessor = noop

# lowzoom caption layer is transparent
Transparent = 1

# this enables the script to check if you've got everything it will need.
RequiredFiles = tilesGen.pl

# lowzoom caption layer is needed at all levels
RenderFullTileset = 1

# Lowzoom captions need very little data. Specify exactly which xapi predicates we need.
Predicates = node[place=town|city|country],way[boundary=administrative]


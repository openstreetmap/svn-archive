<?xml version='1.0' encoding='iso-8859-1' ?>
<maplint:test group="segments" id="segment-without-way" version="1" severity="warning"
    xmlns:maplint="http://maplint.openstreetmap.org/xml/1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <maplint:desc xml:lang="en">
        Find segments which don't belong to any way. That is not
        necessarily an error, but helps with finding places where
        more works need to be done.
    </maplint:desc>

    <maplint:garmin short="SEGNOWAY" icon="Navaid, Blue"/>

    <maplint:setup type="application/xsl+xml">
        <xsl:key name="segment2way" match="/osm/way" use="seg/@id"/>
    </maplint:setup>

    <maplint:check data="segment" type="application/xsl+xml">
        <xsl:if test="not(key('segment2way', @id))">
            <maplint:result/>
        </xsl:if>
    </maplint:check>

</maplint:test>

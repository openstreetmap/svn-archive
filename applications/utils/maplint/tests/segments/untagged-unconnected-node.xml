<?xml version='1.0' encoding='iso-8859-1' ?>
<maplint:test group="segments" id="untagged-unconnected-node" version="1" severity="warning"
    xmlns:maplint="http://maplint.openstreetmap.org/xml/1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <maplint:desc xml:lang="en">
        Nodes without any tags (except with key "created_by") which are not
        connected to any other nodes by segments.
    </maplint:desc>

    <maplint:setup type="application/xsl+xml">
        <xsl:key name="node-from" match="/osm/segment" use="@from"/>
        <xsl:key name="node-to" match="/osm/segment" use="@to"/>
    </maplint:setup>

    <maplint:check data="node" type="application/xsl+xml">
        <xsl:if test="not(tag[@k != 'created_by'] or key('node-from', @id) or key('node-to', @id))">
            <maplint:result/>
        </xsl:if>
    </maplint:check>

</maplint:test>

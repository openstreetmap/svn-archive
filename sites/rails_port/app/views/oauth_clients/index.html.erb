<h1><%= t'oauth.client_application.index.title' %></h1>
<% unless @tokens.empty? %>
<h3><%= t'oauth.client_application.index.my_tokens' %></h3>
<p><%= t'oauth.client_application.index.list_tokens' %></p>
<table>
  <tr><th><%= t'oauth.client_application.index.application' %></th>
    <th><%= t'oauth.client_application.index.issued_at' %></th><th>&nbsp;</th></tr>
  <% @tokens.each do |token|%>
    <% content_tag_for :tr, token do %>
      <td><%= link_to token.client_application.name, token.client_application.url %></td>
      <td><%= token.authorized_at %></td>
      <td>
	<% form_tag :controller => 'oauth', :action => 'revoke' do %>
	<%= hidden_field_tag 'token', token.token %>
	<%= submit_tag t('oauth.client_application.index.revoke') %>
	<% end %>
      </td>
    <% end %>
  <% end %>	
</table>
<% end %>
<h3><%= t'oauth.client_application.index.my_apps' %></h3>
<% if @client_applications.empty? %>
<p><%= t('oauth.client_application.index.no_apps', :oauth => "<a href=\"http://oauth.net\">OAuth</a>") %></p>
<% else %>
<p><%= t'oauth.client_application.index.registered_apps' %></p>
<% @client_applications.each do |client|%>
  <% div_for client do %>
    <%= link_to client.name, :action => :show, :id => client.id %>
  <% end %>
<% end %>
<% end %>
<h3><%= link_to t('oauth.client_application.index.register_new'), :action => :new %></h3>
